import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-pages',
  templateUrl: './pages.component.html',
  styleUrls: ['./pages.component.scss']
})
export class PagesComponent implements OnInit {

  data: any[] = [
    {
        "sysLandscapeId": 1,
        "supportId": 1,
        "categoryId": 1,
        "classificationId": 1,
        "sysLandscape1": "Development"
    },
    {
        "sysLandscapeId": 2,
        "supportId": 1,
        "categoryId": 1,
        "classificationId": 1,
        "sysLandscape1": "Testing"
    },
    // Add more data objects as needed
  ];

  filteredData: any;
  uniqueLandscapes: string[];

  constructor() { }

  ngOnInit(): void {
    this.uniqueLandscapes = this.getUniqueLandscapes();
  }

  filterData(event: any) {
    const selectedLandscape = event.target.value;
    if (selectedLandscape) {
      this.filteredData = this.data.find(row => row.sysLandscape1 === selectedLandscape);
    } else {
      this.filteredData = null;
    }
  }

  private getUniqueLandscapes(): string[] {
    const uniqueValues = new Set<string>();
    this.data.forEach(row => uniqueValues.add(row.sysLandscape1.trim()));
    return Array.from(uniqueValues);
  }
}

//html code
<select (change)="filterData($event)">
  <option selected hidden disabled value="">Select Landscape</option>
  <option *ngFor="let landscape of uniqueLandscapes" [value]="landscape">{{ landscape }}</option>
</select>
